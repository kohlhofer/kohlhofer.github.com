var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var player,firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var isPlaying=!1,currentVideoId="";function onYouTubeIframeAPIReady(){player=new YT.Player("player",{height:"315",width:"560",playerVars:{listType:"playlist",list:"PLLXJQ4obAI9pHl0V7kgGh3reBL5bNS8EK",enablejsapi:1,controls:0,showinfo:0,modestbranding:1,rel:0,loop:1,iv_load_policy:3,playlist:"PLLXJQ4obAI9pHl0V7kgGh3reBL5bNS8EK",endscreen:0},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function onPlayerReady(e){const t=new URLSearchParams(window.location.search).get("v");if(t){const e=player.getPlaylist(),a=e.indexOf(t);-1!==a?(player.playVideoAt(a),updateBackgroundImage(t)):(player.playVideoAt(0),updateBackgroundImage(e[0]))}else{const e=player.getPlaylist();player.playVideoAt(0),e&&e.length>0&&updateBackgroundImage(e[0])}player.setShuffle(!0),document.getElementById("shuffleToggle").checked=!0,updatePlayButton(),setupEventListeners()}function onPlayerStateChange(e){if(e.data===YT.PlayerState.PLAYING)isPlaying=!0;else if(e.data===YT.PlayerState.PAUSED)isPlaying=!1;else if(e.data===YT.PlayerState.ENDED){const e=player.getPlaylist();e&&e.length>0&&player.playVideoAt(0)}updatePlayButton();const t=player.getVideoData();t&&t.video_id!==currentVideoId&&(updateURL(currentVideoId=t.video_id),updateBackgroundImage(currentVideoId))}function setupEventListeners(){document.getElementById("playButton").addEventListener("click",togglePlay),document.getElementById("nextButton").addEventListener("click",nextVideo),document.getElementById("prevButton").addEventListener("click",previousVideo),document.getElementById("shuffleToggle").addEventListener("change",toggleShuffle)}function nextVideo(){const e=player.getPlaylist();player.getPlaylistIndex()===e.length-1?player.playVideoAt(0):player.nextVideo()}function previousVideo(){const e=player.getPlaylist();0===player.getPlaylistIndex()?player.playVideoAt(e.length-1):player.previousVideo()}function togglePlay(){isPlaying?player.pauseVideo():player.playVideo()}function toggleShuffle(){const e=document.getElementById("shuffleToggle"),t=e.checked;e.checked=t,player.setShuffle(t)}function updatePlayButton(){document.getElementById("playButton").querySelector("i").className=isPlaying?"fas fa-pause":"fas fa-play"}function updateURL(e){const t=new URL(window.location.href);t.searchParams.set("v",e),window.history.replaceState({},"",t)}function updateBackgroundImage(e){const t=`https://img.youtube.com/vi/${e}/maxresdefault.jpg`,a=new Image;a.onload=function(){document.getElementById("background-image").style.backgroundImage=`url(${t})`},a.onerror=function(){const t=`https://img.youtube.com/vi/${e}/hqdefault.jpg`;document.getElementById("background-image").style.backgroundImage=`url(${t})`},a.src=t}